<rocket-search-input-group [(value)]="quickSearchStr" [placeholder]="'quick_search_placeholder' | translate"></rocket-search-input-group>

<div *ngIf="declared" class="table-responsive">
	<table class="table table-hover rocket-table">
		<thead>
			<tr>
				<th *ngIf="selectable" class="rocket-entry-selector"></th>
				<th [class.d-none]="!sortable"></th>
				<th *ngFor="let siProp of getSiProps()">
					{{ siProp.label }}
				</th>
				<th>
				</th>
			</tr>
		</thead>
		<tbody cdkDropList (cdkDropListDropped)="drop($event)">
			<ng-container *ngFor="let structurePage of getVisibleStructurePages()">
				<tr *ngFor="let structureEntry of structurePage.structureEntries" 
						cdkDrag rocketSiEntry [siEntry]="structureEntry.siEntry">
					<td *ngIf="selectable" class="rocket-entry-selector" (click)="toggleSelection(structureEntry.siEntry.qualifier)">
						<ng-container *ngIf="singleSelect">
							<input type="radio" [value]="true" [ngModel]="isSelected(structureEntry.siEntry.qualifier)" />
						</ng-container>
						<ng-container *ngIf="!singleSelect">
							<input type="checkbox" 
									[ngModel]="isSelected(structureEntry.siEntry.qualifier)"
									[disabled]="!areMoreSelectable() && !isSelected(structureEntry.siEntry.qualifier)" />
						</ng-container>
					</td>
					<td [class.d-none]="!sortable" cdkDragHandle class="rocket-handle">
						<i class="fa fa-bars"></i>
					</td>
					<td *ngFor="let fieldUiStructure of structureEntry.fieldUiStructures"
							rocketUiStructure [uiStructure]="fieldUiStructure" 
							(click)="toggleSelection(structureEntry.siEntry.qualifier)">
					</td>
					<td class="rocket-table-commands">
						<div class="rocket-simple-commands">
							<ng-container *ngFor="let controlUiContent of structureEntry.controlUiContents">
								<ng-template rocketUiContent [uiContent]="controlUiContent"></ng-template>
							</ng-container>
						</div>
					</td>
				</tr>
			</ng-container>
		</tbody>
	</table>
</div>

<div *ngIf="loading" class="rocket-loader"></div>
